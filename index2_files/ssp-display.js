(()=>{"use strict";let{toString:t}=Object.prototype;function n(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":t.call(n)}function e(t){return"[object Array]"===n(t)}function r(t,n){if(null!=t)if("object"!=typeof t&&(t=[t]),e(t))for(let e=0,r=t.length;e<r;e++)n.call(null,t[e],e,t);else for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.call(null,t[e],e,t)}function o(t){return"function"==typeof t}function i(t){return o(t)?function(){return!t(...arguments)}:!t}function c(t){const e=typeof t;return"string"===e||"object"===e&&null!=t&&!Array.isArray(t)&&"[object String]"===n(t)}const u="sm";class a{constructor(){this.debug=!1}setMode(t){this.debug=Boolean(t)}log(){let{type:t="log",style:n="font-weight: bold",args:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.debug){const r=`${u}-${t}:`.toUpperCase();(console[t]||console.log)?.apply(console,[`%c${r}`,n,...e])}}info(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];this.log({type:"info",style:"color: blue; font-weight: bold",args:n})}warning(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];this.log({type:"warn",args:n})}warnDeprecation(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];this.log({type:"warn",style:"font-weight: bold; color: #ff0000;",args:["Calling deprecated function \n*\n",...n,"\n*\n"]})}error(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];this.log({type:"error",args:n})}}const l=new a;l.wrapWithName=t=>{!function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(i(c(t)))throw new Error(`${n||t} should be a string!`)}(t,"loggerName");const n=t.toUpperCase();return{info:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return l.info(`[${n}]`,...e)},error:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return l.error(`[${n}]`,...e)},warning:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return l.warning(`[${n}]`,...e)},warnDeprecation:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return l.warnDeprecation(`[${n}]`,...e)}}};const s=l;function f(t){return null!==t&&("object"==typeof t||o(t))}function d(t){return f(t)&&!o(t)&&!e(t)}function p(){const t={};function n(n,e){d(n)?"object"==typeof t[e]&&"object"==typeof n?t[e]=p(t[e],n):"object"==typeof n&&(t[e]=p({},n)):t[e]=n}for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return o.forEach((t=>{r(t,n)})),t}function h(t,n){return function e(r){return function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];const u=[...r,...i];return u.length>=t?n(...u):e(u)}}([])}const g=h(2,((t,n)=>{if(e(n))return n.map(t);if(d(n))return Object.entries(n).reduce(((n,e)=>{let[r,o]=e;return Object.assign(n,{[r]:t(o,r)})}),{});throw new Error(`Cannot apply map to ${n}`)}));function w(){}const y={DEBUG:!1,placement:{width:null,height:null},trackers:[],ads:[]},m=3;function b(t){return"number"==typeof t}function v(t){return 1===t?.nodeType&&c(t.nodeName)}function $(t){return g(((t,n)=>{return(t=>["line-height"].every((n=>i(t.includes(n)))))(n)&&(t=>["top","left","right","bottom","width","height","margin","padding","border"].some((n=>t.includes(n))))(n)&&(b(e=t)&&!Number.isNaN(e))?`${t}px`:t;var e}),t)}function A(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i(v(t)))return;e&&t.removeAttribute("style");const r=$(n);Object.assign(t.style,r)}function j(t){if(!o(t))throw new Error("reverseArgs argument must be a function");return function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return t(...e.reverse())}}function E(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];if(!o(t))throw new Error("pipe requires at least one function argument");return function(){const n=t(...arguments);return e.reduce(((t,n)=>n(t)),n)}}function C(){if(!arguments.length)throw new Error("compose requires at least one argument");return j(E)(...arguments)}window;C(i,(function(t){return c(t)&&""!==t}));function N(t,n){t.addEventListener("click",n)}function O(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:n="div",name:e=null,prefix:o=u,id:i=null,style:c=null,content:a=null,isHtmlContent:l=!0,events:s=null,children:d}=t;let p={...t.attributes};const h=document.createElement(n),g=o?`${o}-`:"";if(e){const t=`${g}${e}${p.class?` ${p.class}`:""}`;delete p.class,p={class:t,...p}}return i&&(p={id:`${g}${e?`${e}-`:""}${i}`,...p}),r(p,((t,n)=>{"data"===n&&f(t)?r(t,((t,n)=>{h.setAttribute(`data-${n}`,t)})):h.setAttribute(n,t)})),a&&(l?h.innerHTML=a:h.textContent=a),c&&A(h,c),s&&r(s,((t,n)=>{"click"===n?N(h,t):h.addEventListener(n,t)})),d&&k(h,d),h}function k(t,n){if(i(b((o=t)?.nodeType)&&c(o.nodeName))||i(n))return;var o;C((n=>r(n,(n=>{v(n)||(t=>11===t?.nodeType&&c(t.nodeName))(n)?t.appendChild(n):f(n)&&t.appendChild(O(n))}))),(t=>e(t)?t:[t]))(n)}function D(t){return v(t)&&"IFRAME"===t?.tagName}const x="impression";function S(t){new Image(1,1).src=t}function M(t){i(e(t))||r(t,S)}function T(t,n){if(i(v(t))||i(t.isConnected)||i(e(n)))return;r(n,(n=>{k(t,{type:"script",attributes:{src:n,async:!0}})}))}function U(t){!function(){let{images:t,scripts:n,$scriptContainer:e=document.body}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M(t),T(e,n)}(t[x])}function L(t){let{$container:n,config:e}=t;const{ad:r,placement:o}=e,{trackers:c}=r;U(c);const u=function(t){let{width:n,height:e}=t;return O({type:"iframe",prefix:"ssp",id:"main-container",style:{border:"0"},attributes:{width:n,height:e,frameborder:0,marginwidth:0,marginheight:0,scrolling:"no"}})}({width:o.width,height:o.height}),a=function(t){let{adm:n,width:e,height:r}=t;return`\n    <div id="ssp-ad-container" style="\n    width: ${e}px;\n    height: ${r}px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  ">\n      ${n}\n    </div>\n  `}(r);!function(t,n){let e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(i(t.isConnected))throw new Error("Cannot append iframe if the container is not connected to the DOM");if(i(D(n)))throw new Error("Cannot append iframe if it is not an iframe element");k(t,n),n.contentDocument.open(),n.contentDocument.close(),e&&A(n.contentDocument.body,{margin:0})}(n,u),function(t,n){t.contentWindow.document.open().write(n),t.contentWindow.document.close()}(u,a)}const W=h(2,((t,n)=>{return function(t){return void 0===t}(e=n)||null===e?void 0:n[t];var e})),q=h(3,((t,n,r)=>{if(e(r))return r.reduce(t,n);if(d(r))return Object.entries(r).reduce(((n,e)=>{let[r,o]=e;return t(n,o,r)}),n);throw new Error(`Cannot apply reduce to ${r}`)})),B=h(2,((t,n)=>{if(e(n))return n.filter(t);if(d(n))return Object.entries(n).reduce(((n,e)=>{let[r,o]=e;return{...n,...t(o,r)&&{[r]:o}}}),{});throw new Error(`Cannot apply filter to ${n}`)}));function H(t){let n,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{n=new URL(t)}catch{return!1}return e?"https:"===n.protocol:"https:"===n.protocol||"http:"===n.protocol}function I(t){const n=C(H,W("url"));return C(q(((t,n)=>{let{event:e,url:r}=n;const o=t[e]?.images||[],i=t[e]?.scripts||[];return(r.includes(".js")?i:o).push(r),{...t,[e]:{images:o,scripts:i}}}),{}),B(n))(t)}function R(t){return function(t){const{trackers:n,ads:e}=t,r=g((t=>({...t,trackers:I(t?.trackers||[])})),e);return{...t,trackers:I(n||[]),ads:r}}(t)}async function F(t){let{currentScript:n,config:e}=t;try{const t=p(y,e);s.setMode(t);const r=R(t),o=n.parentElement,i=function(t){let{ads:n,placement:e}=t;return g((t=>t?.type===m?{init:n=>L({$container:n,config:{ad:t,placement:e}})}:(s.warning("ad NOT supported",t),{init:w})),n)}(r),[c]=i;c.init(o)}catch(t){s.error(t)}}const{currentScript:G}=document;r({initSdk:t=>F({currentScript:G,config:t})},((t,n)=>{window[n]=t}))})();